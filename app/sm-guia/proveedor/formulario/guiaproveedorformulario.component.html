<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-12">
        <div class="card">
          <form method="#" action="#">
            <div class="card-header card-header-text" data-background-color="blue">
              <h4 class="card-title">Guía</h4>
            </div>
            <div class="card-content">
              <div class="card-header">
                <h4 class="card-title">Datos Generales</h4>
              </div>
              <div class="card-content">
                <div class="row">
                  <div class="col-sm-6">
                    <div class="row">
                      <div class="col-sm-5">
                        <div class="form-group label-floating">
                          <label class="control-label">Serie  <span class="star">*</span></label>
                          <input type="text" name="nroguia1" id="nroguia1" pattern="[0-9]+" [disabled]="toggleButton" maxlength="4" [(ngModel)]="guia.nroguia1" class="form-control">
                        </div>
                      </div>
                      <div class="col-sm-7">
                        <div class="form-group label-floating">
                          <label class="control-label">N° Correlativo<span class="star">*</span></label>
                          <input type="text" name="nroguia2" id="nroguia2" pattern="[0-9]+" [disabled]="toggleButton" maxlength="8" [(ngModel)]="guia.nroguia2" class="form-control">

                        </div>
                      </div>
                    </div>
                  </div>
                

                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group label-floating">
                      <label class="control-label">Organización Compradora <span class="star">*</span>
                              </label>
                      <input name="razonsocialcliente" type="text" [disabled]="true" [(ngModel)]="guia.razonsocialcliente" class="form-control">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group label-floating">
                      <label class="control-label">Organización Proveedora 
                          </label>
                      <input name="razonsocialproveedor" type="text" disabled [(ngModel)]="guia.razonsocialproveedor" class="form-control">
                    </div>
                  </div>



                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="row">
                      <div class="col-sm-8">
                        <div class="form-group label-floating">
                          <label class="control-label">RUC Organización Compradora <span class="star">*</span>
                              </label>
                          <input name="ruccliente" type="text" [disabled]="true" [(ngModel)]="guia.ruccliente" class="form-control">
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <button data-toggle="modal" *ngIf="esBorrador=='1' || id=='0'" data-target="#mdlBuscarCliente" class="btn btn-fill btn-default" (click)="buscarCliente(event)" 
                          [disabled]="toggleButton">Buscar</button>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group label-floating">
                      <label class="control-label">RUC Organización Proveedora
                      </label>
                      <input name="rucproveedor" disabled type="text" [(ngModel)]="guia.rucproveedor" class="form-control">
                    </div>
                  </div>
                </div>


                <div class="row" *ngIf="esBorrador=='1'">
                  <div class="col-sm-6">
                    <div class="form-group label-floating">
                      <label class="control-label">Motivo de Guía <span class="star">*</span></label>
                      <select id="motivoguia" name="motivoguia" class="form-control" [(ngModel)]="guia.motivoguia" [disabled]="toggleButton">
                        <option value=""></option>
                        <option *ngFor="let opt of listMotivoGuiaCombo" value="{{opt.valor}}"> {{opt.desc}} </option>   
                      </select>
                    </div>
                  </div>
                  <div class="col-sm-6"><!--*ngIf="this.id!='0'"  dentro de class-->
                    <div class="form-group label-floating">
                      <label class="control-label">Número ERP de Documento Material</label>
                      <input name="nroerpdocmaterial" type="text" disabled [(ngModel)]="guia.nroerpdocmaterial" class="form-control">
                    </div>
                  </div>
                </div>
                <div class="row" *ngIf="esBorrador=='0'">
                  <div class="col-sm-4">
                    <div class="form-group label-floating">
                      <label class="control-label">Motivo de Guía <span class="star">*</span></label>
                      <select id="motivoguia" name="motivoguia" class="form-control" [(ngModel)]="guia.motivoguia" [disabled]="toggleButton">
                        <option value=""></option>
                        <option *ngFor="let opt of listMotivoGuiaCombo" value="{{opt.valor}}"> {{opt.desc}} </option>   
                      </select>
                    </div>
                  </div>
                  <div class="col-sm-4"><!--*ngIf="this.id!='0'"  dentro de class-->
                    <div class="form-group label-floating">
                      <label class="control-label">Número ERP de Documento Material</label>
                      <input name="nroerpdocmaterial" type="text" disabled [(ngModel)]="guia.nroerpdocmaterial" class="form-control">
                    </div>
                  </div>
                  <div class="col-sm-4" ><!--*ngIf="this.id!='0'"  dentro de class-->
                    <div class="form-group label-floating">
                        <label class="control-label">Estado Web</label>
                        <select id="estado" [(ngModel)]="guia.estado" name="estado" class="form-control" [disabled]="toggleButton">
                            <option Value=""></option>
                            <option *ngFor="let opt of listEstadoCombo" value="{{opt.valor}}"> {{opt.desc}} </option>   
                        </select>
                    </div>
                  </div>
                </div>


                <div class="row">
                  <div class="col-sm-4">
                    <div class="form-group label-floating">
                      <label class="control-label">Fecha de Emisión <span class="star">*</span>
                          </label>
                      <input name="fechaemision" [(ngModel)]="guia.fechaemision" disabled datepicker type="text" class="form-control toggleButton">
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="form-group label-floating">
                      <label class="control-label">Fecha de Inicio de Traslado  <span class="star">*</span>
                          </label>
                      <input name="fechainiciotraslado" [(ngModel)]="guia.fechainiciotraslado" disabled datepicker type="text" class="form-control toggleButton">
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="form-group label-floating">
                      <label class="control-label">Fecha Probable de Arribo  <span class="star">*</span>
                            </label>
                      <input name="fechaprobablearribo" [(ngModel)]="guia.fechaprobablearribo" disabled datepicker type="text" class="form-control toggleButton">
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-sm-12">
                    <div class="form-group label-floating">
                      <label class="control-label">Observaciones
                      </label>
                      <textarea name="observaciones" id="observaciones" [(ngModel)]="guia.observaciones" maxlength="500" class="form-control" [disabled]="toggleButton"></textarea>
                      <span class="help-block" id="lblDescLength">500 caracteres máximo (0)</span>
                    </div>
                  </div>
                </div>

                <div *ngIf="guia.motivorechazosap" class="row" >
                  <div class="col-sm-12">
                    <div class="form-group label-floating">
                      <label class="control-label">Motivo Rechazo SAP
                      </label>
                      <textarea style="color:red;" name="motivorechazosap" id="motivorechazosap" [(ngModel)]="guia.motivorechazosap" maxlength="200" class="form-control" [disabled]="toggleButton"></textarea>
                      <span class="help-block" id="lblMotRzoSAP">200 caracteres máximo (0)</span>
                    </div>
                  </div>
                </div>

                <div *ngIf="guia.motivoerrorsap" class="row" >
                  <div class="col-sm-12">
                    <div class="form-group label-floating">
                      <label class="control-label">Motivo Error SAP
                      </label>
                      <textarea style="color:red;" name="motivoerrorsap" id="motivoerrorsap" [(ngModel)]="guia.motivoerrorsap" maxlength="200" class="form-control" [disabled]="toggleButton"></textarea>
                      <span class="help-block" id="lblMotErrorSAP">200 caracteres máximo (0)</span>
                    </div>
                  </div>
                </div>

              </div>
              <div class="card-header">
                <h4 class="card-title">Datos Transportista</h4>
              </div>
              <div class="card-content">
                <div class="row">
                  <div class="col-sm-6">
                    <div class="row">
                      <div class="col-sm-5">
                        <div class="form-group label-floating">
                          <label class="control-label">Tipo Documento</label>
                          <select id="tipodoctransporte" name="tipodoctransporte" [(ngModel)]="guia.tipodoctransporte" class="form-control" [disabled]="toggleButton">
                            <option Value=""></option>
                            <option *ngFor="let opt of listTipoDocIdentidad" value="{{opt.valor}}"> {{opt.desc}} </option>   
                            
                          </select>
                        </div>
                      </div>
                      <div class="col-sm-7">
                        <div class="form-group label-floating">
                          <label class="control-label">N° Documento</label>
                          <input type="text" id="rucdnitransporte" name="rucdnitransporte" class="form-control"   maxlength="15" [(ngModel)]="guia.rucdnitransporte"
                            value="" [disabled]="toggleButton">
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group label-floating">
                      <label class="control-label">Razon Social / Nombre
                      </label>
                      <input name="razonsocialnombretransporte" type="text" maxlength="51" class="form-control" [(ngModel)]="guia.razonsocialnombretransporte"
                        [disabled]="toggleButton">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group label-floating">
                      <label class="control-label">N° Placa</label>
                      <input type="text" name="placatransporte" class="form-control" maxlength="51"[(ngModel)]="guia.placatransporte" [disabled]="toggleButton">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group label-floating">
                      <label class="control-label">Dirección
                      </label>
                      <input name="direcciontransporte" type="text" class="form-control" maxlength="51" [(ngModel)]="guia.direcciontransporte" [disabled]="toggleButton">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group label-floating">
                      <label class="control-label">Código de Reg. MTC</label>
                      <input type="text" name="codigomtctransporte" class="form-control" maxlength="51" [(ngModel)]="guia.codigomtctransporte" [disabled]="toggleButton">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group label-floating">
                      <label class="control-label">Tipo Transporte
                      </label>
                      <select id="tipotransporte" name="tipotransporte" [(ngModel)]="guia.tipotransporte" class="form-control" [disabled]="toggleButton">
                        <option Value=""></option>
                        <option *ngFor="let opt of listTransporteGuiaCombo" value="{{opt.valor}}"> {{opt.desc}} </option>   
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-header">
                <h4 class="card-title">Datos de la Carga</h4>
              </div>
              <div class="card-content">
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group label-floating">
                      <label class="control-label">Punto Partida</label>
                      <input type="text" name="puntopartida" class="form-control" maxlength="51" [(ngModel)]="guia.puntopartida" [disabled]="toggleButton">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group label-floating">
                      <label class="control-label">Punto LLegada</label>
                      <input type="text" name="puntollegada" class="form-control" maxlength="51"[(ngModel)]="guia.puntollegada" [disabled]="toggleButton">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-4">
                    <div class="form-group label-floating">
                      <label class="control-label">Almancén Destino</label>
                      <input type="text" name="alamcendestino" class="form-control" maxlength="33"[(ngModel)]="guia.alamcendestino" [disabled]="toggleButton">
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="form-group label-floating">
                      <label class="control-label">Total Bultos</label>
                      <input type="text" name="totalbultos" class="form-control" maxlength="15" pattern="^[0-9]+" [(ngModel)]="guia.totalbultos" [disabled]="toggleButton">
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="row">
                      <div class="col-sm-9">
                        <div class="form-group label-floating">
                          <label class="control-label">Total Volúmen</label>
                          <input type="text" name="totalvolumen"pattern="^[0-9]+" maxlength="15" [(ngModel)]="guia.totalvolumen" class="form-control" value="" [disabled]="toggleButton">
                        </div>
                      </div>
                      <div class="col-sm-3">
                        <div class="form-group label-floating">
                          <label class="control-label"></label>
                          <select id="totalvolumenund" name="totalvolumenund" class="form-control" [(ngModel)]="guia.totalvolumenund" [disabled]="toggleButton">
                            <option Value=""></option>
                            <option *ngFor="let opt of listUnidadMedidaCombo" value="{{opt.valor}}"> {{opt.desc}} </option>   
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-4">
                    <div class="row">
                      <div class="col-sm-9">
                        <div class="form-group label-floating">
                          <label class="control-label">Total Peso Bruto</label>
                          <input type="text" name="totalpesobruto"pattern="^[0-9]+" maxlength="15" [(ngModel)]="guia.totalpesobruto" class="form-control" [disabled]="toggleButton">
                        </div>
                      </div>
                      <div class="col-sm-3">
                        <div class="form-group label-floating">
                          <label class="control-label"></label>
                          <select id="totalpesobrutound" name="totalpesobrutound" [(ngModel)]="guia.totalpesobrutound" class="form-control toggleButton">
                            <option Value=""></option>
                            <option *ngFor="let opt of listUnidadMedidaPesoCombo" value="{{opt.valor}}"> {{opt.desc}} </option>   
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="row">
                      <div class="col-sm-9">
                        <div class="form-group label-floating">
                          <label class="control-label">Tara</label>
                          <input type="text" name="tara" pattern="^[0-9]+" maxlength="15" class="form-control" [(ngModel)]="guia.tara" [disabled]="toggleButton">
                        </div>
                      </div>
                      <div class="col-sm-3">
                        <div class="form-group label-floating">
                          <label class="control-label"></label>
                          <select name="totalpesobrutound" [(ngModel)]="guia.totalpesobrutound" class="form-control toggleButton" disabled>
                            <option Value=""></option>
                            <option *ngFor="let opt of listUnidadMedidaPesoCombo" value="{{opt.valor}}"> {{opt.desc}} </option>   
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="row">
                      <div class="col-sm-9">
                        <div class="form-group label-floating">
                          <label class="control-label">Total Peso Neto</label>
                          <input type="text" name="totalpesoneto" class="form-control" maxlength="15" pattern="^[0-9]+" [(ngModel)]="guia.totalpesoneto" [disabled]="toggleButton">
                        </div>
                      </div>
                      <div class="col-sm-3">
                        <div class="form-group label-floating">
                          <label class="control-label"></label>
                          <select name="totalpesobrutound" [(ngModel)]="guia.totalpesobrutound" class="form-control toggleButton" disabled>
                            <option Value=""></option>
                            <option *ngFor="let opt of listUnidadMedidaPesoCombo" value="{{opt.valor}}"> {{opt.desc}} </option>   
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header card-header-icon" data-background-color="blue">
                  <i class="material-icons">assignment</i>
                </div>
                <div class="card-content">
                  <h4 class="card-title">Detalle de Artículos</h4>
                  <div class="toolbar" *ngIf="toggleButton==false">
                    <div class="row">
                      <div class="col-sm-12">
                        <nav class="navbar navbar-info" role="navigation">
                          <div class="container-fluid">
                            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                             
                            </div>
                          </div>
                        </nav>
                      </div>
                    </div>
                  </div>
                  <div class="row"  *ngIf="toggleButton==false">
                    <div class="col-sm-7">
                    </div>
                    <div class="col-sm-5">
                      <div class="form-group form-group-without-margin">
                          <button id="btnEliminarItemOC" class="btn btn-default pull-right" (click)="eliminarArticulos($event)">Eliminar</button>
                        <button id="btnAgregarItemOC" class="btn btn-default pull-right" (click)="AbrirAgregarOC($event)">Añadir Orden de Compra</button>
                        
                      </div>
                    </div>
                  </div>
                  <div class="material-datatables table-responsive" style="display:block">
                    <table id="dtArticulos" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                      <thead>
                        <tr>
                            <th class="disabled-sorting text-right">
                                <i class="material-icons" *ngIf="esBorrador=='1' || id=='0'">delete_forever</i><br *ngIf="esBorrador=='1' || id=='0'"/>
                                <div class="checkbox text-right" *ngIf="esBorrador=='1' || id=='0'">
                                    <label><input type="checkbox" name="optionsCheckboxes" class="checkall" ></label>
                                </div>
                            </th>

                          <th>N° Item</th>
                          <th>N° OC</th>
                          <th>N° Item OC</th>
                          <th>Código de Producto</th>
                          <th>Descripción del Producto</th>                                          
                          <th>Und. de Medida del Pedido</th>
                          <th>Cantidad del Pedido</th>                         
                          <th>Cantidad Recibida</th>
                          <th>Cantidad Despachada<span class="star"  *ngIf="!toggleButton">*</span></th>
                          <th>Und. de Medida de Despacho<span class="star"  *ngIf="!toggleButton">*</span></th>   
                          <th>Estado</th>

                        </tr>
                      </thead>
                    </table>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-12">
                  <div class="card">
                    <div class="card-header card-header-icon" data-background-color="blue">
                      <i class="material-icons">assignment</i>
                    </div>
                    <div class="card-content">
                      <h4 class="card-title">Archivos Adjuntos</h4>
                      <div class="toolbar" [hidden]="toggleButton">
                        <div class="row">
                          <div class="col-sm-12">
                            <nav class="navbar navbar-info" role="navigation">
                              <div class="container-fluid">
                                <div class="navbar-header">
                                  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                                            <span class="sr-only">Acciones</span>
                                            <span class="icon-bar"></span>
                                            <span class="icon-bar"></span>
                                            <span class="icon-bar"></span>
                                        </button>
                                  <a class="navbar-brand disabled"></a>
                                </div>
                                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                                  
                                </div>
                              </div>
                            </nav>

                          </div>
                        </div>
                      </div>

                      <div class="row"  [hidden]="toggleButton">
                          <div class="col-sm-8">
                          </div>
                          <div class="col-sm-4">
                            <div class="form-group form-group-without-margin">
                              <button  class="btn btn-default pull-right" (click)="eliminarArchivos($event)">Eliminar</button>
                              <button  class="btn btn-default pull-right" data-toggle="modal" (click)="agregarArchivo($event)" data-target="#mdlArchivosAdjuntos">Agregar</button>
                              
                            </div>
                          </div>
                        </div>
                      <div class="material-datatables table-responsive">
                        <table id="dtArchivos" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                          <thead>
                            <tr>
                              <th class="disabled-sorting text-right">
                                <div class="checkbox text-right" *ngIf="esBorrador=='1' || id=='0'">
                                  <label><input type="checkbox" name="optionsCheckboxes" class="checkall" ></label>
                                </div>
                              </th>
                              <th width="20%">Nombre</th>
                              <th width="60%">Descripción</th>
                              <th class="disabled-sorting text-center" width="20%">Acciones</th>
                            </tr>
                          </thead>  

                        </table>
                      </div>
                    </div>
                    <!-- end content-->
                  </div>
                  <!--  end card  -->
                </div>
                <!-- end col-md-12 -->
              </div>
            </div>
            <div class="card-footer">


              <button class="btn btn-fill btn-default pull-right" routerLink="/sm-guia/proveedor/buscar">Regresar</button>
              <button class="btn btn-fill btn-default pull-right" [disabled]="!botonImprimir.habilitado" *ngIf="botonImprimir.visible && id!=='0'" (click)="print($event)">{{botonImprimir.Titulo}}</button>
              <button class="btn btn-fill btn-default pull-right" [disabled]="!botonEnviar.habilitado || toggleButton" *ngIf="botonEnviar.visible && (esBorrador=='1' || id=='0')" (click)="enviarGuia($event)">{{botonEnviar.Titulo}}</button>
              <button class="btn btn-fill btn-default pull-right" [disabled]="!botonGuardar.habilitado || toggleButton" (click)="guardarGuia($event)"
                *ngIf="botonGuardar.visible && (esBorrador=='1' || id=='0')">{{botonGuardar.Titulo}}</button>
              <button type="button" class="btn btn-fill btn-default pull-right" (click)="descartarBorrador($event)" *ngIf="botonDescartar.visible && (id!=='0' && esBorrador=='1')"
                [disabled]="!botonDescartar.habilitado || toggleButton">{{botonDescartar.Titulo}}</button>
              <button (click)="habilitarEdicion($event)" class="btn btn-fill btn-default pull-right" *ngIf="botonEdicion.visible && (id!=='0' && esBorrador=='1')" [disabled]="!botonEdicion.habilitado">{{botonEdicion.Titulo}}</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <div id="mdlAtributosLista" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

          <table>
            <tr>
              <td>
                <div class="card-header card-header-icon" data-background-color="blue">
                  <i class="material-icons">assignment</i>
                </div>
              </td>
              <td class="cell-title">
                <div class="card-content">
                  <h4 class="card-title modal-title">Atributos del Detalle</h4>

                </div>
              </td>
            </tr>
          </table>
        </div>
        <div class="modal-body">

          <div class="card-content">
            <div class="row">
              <div class="col-sm-6">
                <div class="form-group label-floating">
                  <label class="control-label">Nro. Item
                          <span class="star"></span>
                        </label>
                  <input name="nroitem" [(ngModel)]="producto.nroitem" required type="text" class="form-control" [disabled]="toggleButton">
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group label-floating">
                  <label class="control-label">Descripción del Producto
                          <span class="star"></span>
                        </label>
                  <input name="descproducto" [(ngModel)]="producto.descproducto" required type="text" class="form-control" [disabled]="toggleButton">
                </div>
              </div>
            </div>
          </div>
          <div class="material-datatables table-responsive">
            <table id="dtAtributos" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Operador</th>
                  <th>Valor</th>
                  <th>Unidad</th>
                </tr>
              </thead>
            </table>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>

        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
  <div id="mdlBuscarCliente" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>


          <table>
            <tr>
              <td>
                <div class="card-header card-header-icon" data-background-color="blue">
                  <i class="material-icons">assignment</i>
                </div>
              </td>
              <td class="cell-title">
                <div class="card-content">
                  <h4 class="card-title modal-title">Buscar Organización Compradora</h4>

                </div>
              </td>
            </tr>
          </table>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group label-floating">
                <label class="control-label">Nombre de Organización Compradora</label>
                <input type="text" id="txtBuscarNroOC" name="txtBuscarNroOC" [(ngModel)]="filtroCliente.razonsocial" class="form-control"
                  value="" [disabled]="toggleButton">
              </div>
            </div>
          </div>
          <div class="row">

            <div class="col-sm-9">
              <div class="form-group label-floating">
                <label class="control-label">RUC</label>
                <input type="text" id="txtBuscarCodCliente" [(ngModel)]="filtroCliente.ruc" name="txtBuscarCodCliente" class="form-control"
                  value="" [disabled]="toggleButton">
              </div>
            </div>
            <div class="col-sm-3">
              <div class="form-group label-floating">
                <label class="control-label"></label>
                <button type="button" class="btn btn-default" (click)="buscarClienteDT($event)">Buscar</button>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <div class="material-datatables table-responsive">
                <table id="dtBuscarCliente" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                  <thead>
                    <tr>
                      <th class="disabled-sorting text-right">

                      </th>
                      <th style="width:50%">Nombre de Organización Compradora</th>
                      <th style="width:50%">RUC</th>
                    </tr>
                  </thead>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" (click)="SeleccionarCliente($event)" [disabled]="btnSeleccionar">Seleccionar</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
  <div id="mdlOrdenesCompra" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>


          <table>
            <tr>
              <td>
                <div class="card-header card-header-icon" data-background-color="blue">
                  <i class="material-icons">assignment</i>
                </div>
              </td>
              <td class="cell-title">
                <div class="card-content">
                  <h4 class="card-title modal-title">Buscar Orden de Compra</h4>

                </div>
              </td>
            </tr>
          </table>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group label-floating">
                <label class="control-label">Nro. O.C.</label>
                <input type="text" name="nroordencompra" class="form-control" [(ngModel)]="filtrooc.nroordencompra" [disabled]="toggleButton">
              </div>
            </div>
            <div class="col-sm-6" >
              <div class="form-group label-floating">
                <label class="control-label">Estado</label>
                <select name="estado" class="form-control" [(ngModel)]="filtrooc.estado" >
      

                  <option value="ALLGUIA">TODOS</option>                  
                  <option value="OACEP">Aceptada</option>
                  <option value="ODPAR">Despachada Parcial</option>

                  <!--
                  <option *ngFor="let optEstado of listEstadoOCCombo" value="{{optEstado.valor}}"> {{optEstado.desc}} </option>           
                  -->

                </select>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-5">
              <div class="form-group label-floating">
                <label class="control-label">Creada/Enviada después de</label>

                <input type="text" [(ngModel)]="filtrooc.fechacreacioninicio" name="fechacreacioninicio" class="form-control" datepicker
                />
              </div>
            </div>
            <div class="col-sm-5">
              <div class="form-group label-floating">
                <label class="control-label">Creada/Enviada antes de</label>

                <input type="text" [(ngModel)]="filtrooc.fechacreacionfin" name="fechacreacionfin" class="form-control" datepicker />
              </div>
            </div>
            <div class="col-sm-2">
              <div class="form-group label-floating">
                <label class="control-label"></label>
                <button type="button" class="btn btn-default" (click)="BuscarOCClick($event)">Buscar</button>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <div class="material-datatables table-responsive">
                <table id="dtBuscarOC" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                  <thead>
                    <tr>
                      <!--<th class="disabled-sorting text-right">
                        <div class="checkbox text-right">
                          <label><input type="checkbox" name="optionsCheckboxes" class="checkall" ></label>
                        </div>
                      </th>-->
                      <th style="width:10%">Nro. O.C.</th>
                      <th style="width:15%">Organización Compradora</th>
                      <th style="width:15%">Usuario Comprador</th>
                      <th style="width:10%">Atención A</th>
                      <th style="width:10%">Estado</th>
                      <th style="width:10%">Versión</th>
                      <th style="width:10%">Total</th>
                      <th style="width:10%">Fecha Creación</th>
                    </tr>
                  </thead>


                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" (click)="AgregarArticulosOC($event)" [disabled]="btnSeleccionar">Añadir</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>

  <div id="mdlArchivosAdjuntos" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">

          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

          <table>
            <tr>
              <td>
                <div class="card-header card-header-icon" data-background-color="blue">
                  <i class="material-icons">assignment</i>
                </div>
              </td>
              <td class="cell-title">
                <div class="card-content">
                  <h4 class="card-title modal-title">Archivo Adjunto</h4>
                  <!--<h4 class="modal-title">Archivo Adjunto</h4>-->
                </div>
              </td>
            </tr>
          </table>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-sm-12">
                <p style="color:rgb(199, 24, 24);font-size:12px;">*Advertencia: Solo se aceptan archivos con nombres sin espacios o subguiones</p>
                <p style="color:rgb(199, 24, 24);font-size:12px;"> *Solo se aceptan archivos con extensión: .xls, .xlsx, .doc, .docx, .jpg, .png y .pdf.</p>
              <div class="form-group">
                <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                  <div class="form-control" data-trigger="fileinput">
                    <i class="material-icons fileinput-exists">attach_file</i>
                    <span class="fileinput-filename"></span>
                  </div>
                  <span class="input-group-addon btn btn-default btn-file">
                      <span class="fileinput-new">Seleccionar Archivo</span>
                  <span class="fileinput-exists">Seleccionar Archivo</span>
                  <input type="file" name="..." (change)="onChangeFile($event)" id="txtArchivo">
                  <a href="#" class="input-group-addon btn btn-default fileinput-exists" style="display:none" data-dismiss="fileinput" id="btnEliminarAA">Remover</a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group label-floating">
                <textarea name="descripcion" placeholder="Descripción" [(ngModel)]="archivo.descripcion" class="form-control" rows="4" [disabled]="toggleButton"></textarea>
              </div>
            </div>
          </div>

        </div>
        <div class="row" *ngIf="ProgressUpload">
          <div class="col-sm-4">
          </div>
          <div class="col-sm-4">
            <img src="assets/img/progress.gif" style="padding:0; margin:0; border:0">

          </div>
        </div>
        <div class="modal-footer">
          
          <button type="button" class="btn btn-default" (click)="grabarArchivoAdjunto()" [disabled]="ProgressUpload">Adjuntar</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" [disabled]="ProgressUpload">Cerrar</button>
        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
</div>


<div style="display:none">

  <div id="print-section-guia" style='font-family: Arial, Helvetica, sans-serif;color: #000;font-size: 12px;'>
    <table width="100%" cellpadding="0" cellspacing="0" align="center" bgcolor="#ffffff" style='font-family: Arial, Helvetica, sans-serif;color: #000;font-size: 12px;'>
      <tbody>
        <tr>
          <td align="center">


            <table width="900" cellpadding="0" cellspacing="0" border="0" bgcolor="#fff">
              <tbody>
                <tr>
                  <td colspan="2" bgcolor="#fff" align="left" valign="middle">
                    <img src="{{this.baseurl}}assets/img/faces/centenario.png" width="250" style="padding:0; margin:0; border:0; display:none">
                  </td>
                </tr>
                <tr>
                  <td colspan="2" bgcolor="#fff" align="center" valign="top" style="font-size: 20px">
                    <b>Guía de Materiales  {{this.guia.nroguia}}</b><br><br>
                  </td>
                </tr>




              </tbody>
            </table>

            <table width="900" class="print-table" cellpadding="5" border='0' style="border:1px solid #999;border-collapse: collapse;"
              cellspacing="0" bgcolor="#fff">
              <tbody>


                <tr style="border:1px solid #999;">
                  <td colspan="12" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;font-size: 18px">
                    <b>Datos Generales</b>
                  </td>
                </tr>
                <tr style="border:1px solid #999;">
                  <td colspan="6" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;width: 50%">
                    <b>Organización Compradora:</b><br> {{this.guia.razonsocialcliente}}
                  </td>
                  <td colspan="6" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;width: 50%">
                    <b>Organización Proveedora:</b><br> {{this.guia.razonsocialproveedor}}
                  </td>
                </tr>
                <tr style="border:1px solid #999;">
                  <td colspan="6" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>RUC Organización Compradora:</b><br> {{this.guia.ruccliente}}
                  </td>
                  <td colspan="6" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>RUC Organización Proveedora:</b><br> {{this.guia.rucproveedor}}
                  </td>
                </tr>

                <tr style="border:1px solid #999;">
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Motivo de Guía:</b><br> {{this.guia.motivoguia_text}}
                  </td>
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Numero ERP Documento de Material:</b><br> {{this.guia.nroerpdocmaterial}}
                  </td>
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Estado Guía:</b><br> {{this.guia.estado_text}}
                  </td>
                </tr>


                <tr style="border:1px solid #999;">
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Fecha de Emisión:</b><br> {{this.guia.fechaemision}}
                  </td>
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Fecha de Inicio de Traslado:</b><br> {{this.guia.fechainiciotraslado}}
                  </td>
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Fecha Probable de Arribo:</b><br> {{this.guia.fechaprobablearribo}}
                  </td>
                </tr>
                <tr style="border:1px solid #999;">
                  <td colspan="12" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Observaciones:</b><br> {{this.guia.observaciones}}
                  </td>
                </tr>
                <tr *ngIf="guia.motivorechazosap" style="border:1px solid #999;">
                  <td colspan="12" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Motivo Rechazo SAP:</b><br> {{this.guia.motivorechazosap}}
                  </td>
                </tr>
                <tr *ngIf="guia.motivoerrorsap" style="border:1px solid #999;">
                  <td colspan="12" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Motivo Error SAP:</b><br> {{this.guia.motivoerrorsap}}
                  </td>
                </tr>                      
                <tr style="border:1px solid #999;">
                  <td colspan="12" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;font-size: 18px">
                    <b>Datos del Transportista</b>
                  </td>
                </tr>

                <tr style="border:1px solid #999;">
                  <td colspan="3" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Tipo de Documento:</b><br> {{this.guia.tipodoctransporte_text}}
                  </td>
                  <td colspan="3" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Nro. Documento:</b><br> {{this.guia.rucdnitransporte}}
                  </td>
                  <td colspan="6" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Razón Social/Nombre:</b><br> {{this.guia.razonsocialnombretransporte}}
                  </td>
                </tr>

                <tr style="border:1px solid #999;">
                  <td colspan="6" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Nro. Placa:</b><br> {{this.guia.placatransporte}}
                  </td>
                  <td colspan="6" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Dirección:</b><br> {{this.guia.direcciontransporte}}
                  </td>
                </tr>
                <tr style="border:1px solid #999;">
                  <td colspan="6" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Código Reg. de MTC:</b><br> {{this.guia.codigomtctransporte}}
                  </td>
                  <td colspan="6" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Tipo de Transporte:</b><br> {{this.guia.tipotransporte_text}}
                  </td>
                </tr>

                <tr style="border:1px solid #999;">
                  <td colspan="12" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;font-size: 18px">
                    <b>Datos de la Carga</b>
                  </td>
                </tr>

                <tr style="border:1px solid #999;">
                  <td colspan="6" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Punto de Partida:</b><br> {{this.guia.puntopartida}}
                  </td>
                  <td colspan="6" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Punto de Llegada:</b><br> {{this.guia.puntollegada}}
                  </td>
                </tr>

                <tr style="border:1px solid #999;">
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Almacen Destino:</b><br> {{this.guia.alamcendestino}}
                  </td>
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Total Bultos:</b><br> {{this.guia.totalbultos}}
                  </td>
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Total Volumen:</b><br> {{this.guia.totalvolumen}}{{this.guia.totalvolumenund_text}}
                  </td>
                </tr>

                <tr style="border:1px solid #999;">
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Total Peso Bruto:</b><br> {{this.guia.totalpesobruto}}{{this.guia.totalpesobrutound_text}}
                  </td>
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Tara:</b><br> {{this.guia.tara}}{{this.guia.totalpesobrutound_text}}
                  </td>
                  <td colspan="4" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                    <b>Total Peso Neto:</b><br> {{this.guia.totalpesoneto}}{{this.guia.totalpesobrutound_text}}
                  </td>
                </tr>

                <tr style="border:1px solid #999;">
                  <td colspan="12" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;font-size: 18px">
                    <b>Detalle de los Artículos</b>
                  </td>
                </tr>
              </tbody>

              <tr style="border:1px solid #999;">
                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  <b>No. Item</b>
                </td>
                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  <b>No. OC</b>
                </td>
                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  <b>No. Item OC</b>
                </td>
                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  <b>Código de Producto</b>
                </td>
                <td colspan="2" bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  <b>Descripción del Producto</b>
                </td>

                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  <b>Und. de Medida del Pedido</b>
                </td>
                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  <b>Cantidad del Pedido</b>
                </td>
                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  <b>Cantidad Recibida</b>
                </td>
                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  <b>Cantidad Despachada</b>
                </td>
                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  <b>Und. de Medida de Despacho</b>
                </td>

                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  <b>Estado</b>
                </td>

              </tr>
              <tr *ngFor="let row of this.guia.articulos" ng-class="trhighlight">
                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  {{row.nroitem}}
                </td>
                <td bgcolor="#fff" align="right" valign="top" style="border:1px solid #999;">
                  {{row.nrooc}}
                </td>
                <td bgcolor="#fff" align="right" valign="top" style="border:1px solid #999;">
                  {{row.nroitemoc}}
                </td>
                <td bgcolor="#fff" align="center" valign="top" style="border:1px solid #999;">
                  {{row.codproducto}}
                </td>
                <td colspan="2" bgcolor="#fff" align="left" valign="top" style="border:1px solid #999;">
                  {{row.descproducto}}
                </td>
                <td bgcolor="#fff" align="right" valign="top" style="border:1px solid #999;">
                  {{row.unidadmedida}}
                </td>
                <td bgcolor="#fff" align="right" valign="top" style="border:1px solid #999;">
                  {{row.cantidadpedido}}
                </td>
                <td bgcolor="#fff" align="right" valign="top" style="border:1px solid #999;">
                  {{row.cantidadrecibida}}
                </td>
                <td bgcolor="#fff" align="right" valign="top" style="border:1px solid #999;">
                  {{row.cantidaddespachada}}
                </td>
                <td bgcolor="#fff" align="right" valign="top" style="border:1px solid #999;">
                  {{row.unidadmedidadespacho}}
                </td>
              
                <td bgcolor="#fff" align="right" valign="top" style="border:1px solid #999;">
                  {{row.estado}}
                </td>
              </tr>
           
            </table>





          </td>
        </tr>
      </tbody>
    </table>
    <br>

  </div>
</div>